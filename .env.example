# ============================================
# SmartPrice Backend Configuration
# ============================================

# Server Configuration
PORT=3001
NODE_ENV=development

# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000

# ============================================
# Database Configuration
# ============================================

# Option 1: Use DATABASE_URL (Railway, Heroku, etc.)
# DATABASE_URL=postgresql://user:password@host:port/database

# Option 2: Use individual variables (local development)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smartprice
DB_USER=postgres
DB_PASSWORD=postgres

# ============================================
# Redis Configuration
# ============================================

REDIS_URL=redis://localhost:6379

# ============================================
# Security - JWT & Sessions
# ============================================

# CRITICAL: Generate secure keys for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# JWT Secret (REQUIRED IN PRODUCTION - min 32 characters)
JWT_SECRET=your-secret-key-change-in-production-please

# Session Secret (REQUIRED IN PRODUCTION - min 32 characters)
SESSION_SECRET=your-session-secret-change-in-production-please

# Master Encryption Key (for encrypting sensitive data)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
MASTER_ENCRYPTION_KEY=

# ============================================
# Email Service Configuration
# ============================================

EMAIL_PROVIDER=none
# Options: none (dev mode), sendgrid, aws-ses, nodemailer

EMAIL_FROM=noreply@smartprice.ru
EMAIL_FROM_NAME=SmartPrice

# SendGrid (if EMAIL_PROVIDER=sendgrid)
# Get from https://sendgrid.com/
SENDGRID_API_KEY=

# AWS SES (if EMAIL_PROVIDER=aws-ses)
# Get from AWS Console
AWS_SES_REGION=us-east-1
AWS_SES_ACCESS_KEY=
AWS_SES_SECRET_KEY=

# Nodemailer SMTP (if EMAIL_PROVIDER=nodemailer)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# ============================================
# Marketplace APIs
# ============================================

# Yandex Market API
YANDEX_MARKET_API_KEY=
YANDEX_MARKET_CLIENT_ID=

# AliExpress API
ALIEXPRESS_APP_KEY=
ALIEXPRESS_APP_SECRET=

# Admitad
ADMITAD_CAMPAIGN_ID=

# ============================================
# Security Features
# ============================================

# DDoS Protection
ENABLE_GEO_BLOCKING=false
DDOS_SUSPICIOUS_THRESHOLD=100
DDOS_GLOBAL_THRESHOLD=10000
DDOS_WINDOW_SIZE=60

# 2FA Configuration
ENABLE_2FA_ENFORCEMENT=false

# Secrets Rotation
SECRETS_ROTATION_INTERVAL_DAYS=90

# Security Monitoring
SECURITY_MONITORING_INTERVAL=60000
ENABLE_SECURITY_ALERTS=true

# ============================================
# Alerting & Notifications (Optional)
# ============================================

# Slack Alerts
SLACK_WEBHOOK_URL=
ENABLE_SLACK_ALERTS=false

# Telegram Alerts
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
ENABLE_TELEGRAM_ALERTS=false

# ============================================
# Development & Debugging
# ============================================

# Set to 'true' to enable debug logging
DEBUG=false

# ============================================
# IMPORTANT NOTES
# ============================================

# 1. NEVER commit .env files to Git!
# 2. Generate strong secrets for production
# 3. Use environment-specific .env files (.env.production, .env.staging)
# 4. Store production secrets in secure vaults (Railway Secrets, AWS Secrets Manager, etc.)
# 5. Rotate secrets regularly (every 90 days recommended)
